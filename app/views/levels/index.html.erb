<%# Levels Overview Page - Conditional view displayed when:
    - User has no level (level = 0 scenario)
    - Current level is completed
    Shows game instructions and available levels to start %>
<main>
<div class="container my-4 text-center">
  <%# Landing page header and instructions %>
  <h1>Become a Wealth Wizard!</h1>

  <section class="mb-4">

    <h2>Play. Learn. Level Up Your Money Skills.</h2>
    <p>
    Your journey begins here â€” every decision shapes your path to mastery.
    </p>
    <p>
      Test your financial instincts, watch your wizard level rise, every move brings you closer to financial freedom.
    </p>
    <p>
      Here's your first quest:
    </p>
  </section>

  <%# Show current active level status if user is progressing through a level %>
  <% if @current_level && @current_level.completion_status == false %>
    <div class="alert alert-info mb-4 d-inline-block text-start">
      You're currently on: <strong><%= @current_level.name %></strong>. Continue on the gameboard.
    </div>
    <div class="mb-4">
      <%= link_to "Go to Gameboard", pages_gameboard_path, class: "btn btn-primary" %>
  <% end %>

  <%# Only show the overview/card for the user's current level, not all %>
  <% if @level %>
    <section>
      <div class="row justify-content-center">
        <div class="col-12 col-md-6">
          <div class="card h-100">
            <div class="card-body text-center">
              <%# Show the level's associated avatar icon (from app/assets/images) %>
              <%= image_tag(@level_icon, alt: "#{@level[:name]} icon", class: "mb-3", width: 80, height: 80) %>
              <h3 class="card-title"><%= @level[:name] %></h3>
              <p class="card-text"><%= @level[:description] %></p>
            </div>
          </div>
        </div>
      </div>
    </section>
  <% else %>
    <%# No active/incomplete level: show CTA to start the journey %>
    <div class="my-4">
      <%= button_to "Start Your Journey", levels_path, method: :post, class: "btn btn-lg btn-success" %>
    </div>
  <% end %>

  <%# Remove multi-level listing; only one overview is shown per current level %>
</div>
</main>
